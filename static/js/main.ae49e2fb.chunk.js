(this["webpackJsonpgeojson-analyser"]=this["webpackJsonpgeojson-analyser"]||[]).push([[0],{196:function(e,a,t){e.exports={rowStretch:"Dashboard_rowStretch__25m3T"}},204:function(e,a,t){e.exports=t(473)},219:function(e,a,t){},473:function(e,a,t){"use strict";t.r(a);var r=t(1),l=t.n(r),n=t(32),o=t.n(n),s=(t(209),t(82)),i=t.n(s),c=t(21),u=(t(212),t(63)),m=t.n(u),d=(t(128),t(106)),p=t.n(d),E=(t(219),t(477)),f=t(478),g=t(479),v=(t(220),t(129),t(80)),b=t.n(v),h=(t(131),t(28)),y=t.n(h),C=(t(222),t(30)),_=t.n(C),k=(t(225),t(33)),x=t.n(k),D=(t(132),t(102)),U=t.n(D),A=t(196),j=t.n(A),F=t(73),S=t(125),O=t.n(S),T=t(197),P=t(198),M=t.n(P),w=function(){var e=Object(T.a)(O.a.mark((function e(a,t,r,l,n){var o,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={},s={},e.next=4,M.a.get(t).then((function(e){var a=e.data.users,t=a.filter((function(e){return e.is_pro_user})),n=a.length,i=a.filter((function(e){return"M"===e.gender})).length,c=a.filter((function(e){return"F"===e.gender})).length,u=a.filter((function(e){return e.total_matches})).length,m=t.length,d=t.filter((function(e){return"M"===e.gender})).length,p=t.filter((function(e){return"F"===e.gender})).length,E=t.filter((function(e){return e.total_matches})).length,f=(m/n*100).toFixed(1);a.forEach((function(e){e.area_id in s?(s[e.area_id].totalUsers++,s[e.area_id].totalAge+=e.age,"M"===e.gender?s[e.area_id].male++:s[e.area_id].female++,e.total_matches&&s[e.area_id].total_matches++):s[e.area_id]={totalUsers:0,male:0,female:0,total_matches:0,totalAge:0}})),t.forEach((function(e){e.area_id in o?(o[e.area_id].totalUsers=o[e.area_id].totalUsers+1,"M"===e.gender?o[e.area_id].male++:o[e.area_id].female++,o[e.area_id].revPercentage=(o[e.area_id].totalUsers/t.length*100).toFixed(2),e.total_matches&&o[e.area_id].total_matches++):o[e.area_id]={totalUsers:0,male:0,female:0,revPercentage:0,total_matches:0}})),o[0]={totalUsers:m,male:d,female:p,total_matches:E,totalRevPercentage:f},s[0]={totalUsers:n,male:i,female:c,total_matches:u},r(o),l(s)}));case 4:return e.next=6,fetch(a).then((function(e){return e.json()})).then((function(e){e.features.forEach((function(e){e.properties.totalProUsers=o[e.properties.area_id].totalUsers,e.properties.totalGeneralUsers=s[e.properties.area_id].totalUsers})),n(e)}));case 6:case"end":return e.stop()}}),e)})));return function(a,t,r,l,n){return e.apply(this,arguments)}}(),B=t(97);t.n(B).a.workerClass=t(265).default;var I=function(e){var a=e.areaData,t=e.setAreaData,n=e.proData,o=e.setProData,s=e.genData,i=e.setGenData,u=Object(r.useState)({longitude:77.6,latitude:12.94,width:"35vw",height:"65vh",minZoom:10,pitch:42}),m=Object(c.a)(u,2),d=m[0],p=m[1],E=Object(r.useState)(),f=Object(c.a)(E,2),g=f[0],v=f[1];Object(r.useEffect)((function(){return w("https://kyupid-api.vercel.app/api/areas","https://kyupid-api.vercel.app/api/users",o,i,v)}),[o,i]);var b="pro"===e.mapType?n:s;var h=a&&a.area_id||"",y=Object(r.useMemo)((function(){return["in","area_id",h]}),[h]),C={id:"area",type:"fill",paint:{"fill-outline-color":"rgb(52,51,50)","fill-color":{property:"totalGeneralUsers",stops:[[90,"#E0AAFF"],[120,"#C77DFF"],[150,"#9D4EDD"],[180,"#7B2CBF"],[220,"#5A189A"],[250,"#3C096C"],[280,"#240046"],[300,"#10002B"]]}}},_={id:"area",type:"fill",source:"my-data",paint:{"fill-outline-color":"rgb(52,51,50)","fill-color":{property:"totalProUsers",stops:[[90,"#E0AAFF"],[120,"#C77DFF"],[150,"#9D4EDD"],[180,"#7B2CBF"],[220,"#5A189A"],[250,"#3C096C"],[280,"#240046"],[300,"#10002B"]]}}},k={id:"area_highlight",type:"fill-extrusion",paint:{"fill-extrusion-color":"pro"===e.mapType?{property:"totalProUsers",stops:[[90,"#E0AAFF"],[120,"#C77DFF"],[150,"#9D4EDD"],[180,"#7B2CBF"],[220,"#5A189A"],[250,"#3C096C"],[280,"#240046"],[300,"#10002B"]]}:{property:"totalGeneralUsers",stops:[[90,"#E0AAFF"],[120,"#C77DFF"],[150,"#9D4EDD"],[180,"#7B2CBF"],[220,"#5A189A"],[250,"#3C096C"],[280,"#240046"],[300,"#10002B"]]},"fill-extrusion-height":5e3}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(F.c,Object.assign({getCursor:function(e){var a=e.isHovering;return e.isDragging?"grabbing":a?"pointer":"default"}},d,{onViewportChange:function(e){return p(e)},mapStyle:"mapbox://styles/mapbox/dark-v9",mapboxApiAccessToken:"pk.eyJ1IjoiZGVwcm92NDQ3IiwiYSI6ImNrejV1ZXkxYTBwa3EyeHFmeTE1Mnhvd3MifQ.00kif_tRS2Ij8lUHI_Osdg",onClick:function(e){var a,r;if(null===e||void 0===e||null===(a=e.features[0])||void 0===a||null===(r=a.properties)||void 0===r?void 0:r.area_id){var l=e.features[0].properties.area_id;b[l];t({female:b[l].female,male:b[l].male,totalUsers:b[l].totalUsers,totalMatches:b[l].total_matches,areaName:e.features[0].properties.name,revPercentage:b[l].revPercentage,avgAge:b[l].totalAge/b[l].totalUsers,area_id:l})}}}),g&&l.a.createElement(F.b,{id:"my-data",type:"geojson",data:g},"pro"===e.mapType?l.a.createElement(F.a,_):l.a.createElement(F.a,C),l.a.createElement(F.a,Object.assign({},k,{filter:y})))))},N=t(199),G=t.n(N),R=t(48),H=t(56),J=t(202),V=U.a.TabPane,Z=function(){var e=Object(r.useState)(null),a=Object(c.a)(e,2),t=a[0],n=a[1],o=Object(r.useState)(),s=Object(c.a)(o,2),i=s[0],u=s[1],m=Object(r.useState)(),d=Object(c.a)(m,2),p=d[0],E=d[1];return l.a.createElement("div",{className:j.a.rowStretch},l.a.createElement(b.a,{gutter:[16,16],justify:"center",align:"middle"},l.a.createElement(y.a,{xs:{order:2},md:12},l.a.createElement(U.a,{defaultActiveKey:"1",centered:!0},l.a.createElement(V,{tab:"General Stats",key:"1"},null!=p?l.a.createElement(b.a,{gutter:[16,16]},l.a.createElement(y.a,{span:8},l.a.createElement(_.a,{style:{backgroundColor:"var(--russian-violet-2"},bordered:!1},l.a.createElement(x.a,{prefix:l.a.createElement(R.c,null),title:"Females",value:p[0].female}))),l.a.createElement(y.a,{span:8},l.a.createElement(_.a,{style:{backgroundColor:"var(--russian-violet-2"},bordered:!1},l.a.createElement(x.a,{prefix:l.a.createElement(R.b,null),title:"Total Users",value:p[0].totalUsers}))),l.a.createElement(y.a,{span:8},l.a.createElement(_.a,{style:{backgroundColor:"var(--russian-violet-2"},bordered:!1},l.a.createElement(x.a,{prefix:l.a.createElement(R.d,null),title:"Males",value:p[0].male}))),l.a.createElement(y.a,{span:8},l.a.createElement(_.a,{style:{backgroundColor:"var(--russian-violet-2"},bordered:!1},l.a.createElement(x.a,{prefix:l.a.createElement(H.a,null),title:"Total Pro Users",value:i[0].totalUsers}))),l.a.createElement(y.a,{span:8},l.a.createElement(_.a,{style:{backgroundColor:"var(--russian-violet-2"},bordered:!1},l.a.createElement(x.a,{prefix:l.a.createElement(R.a,null),title:"Total Matches",value:p[0].total_matches}))),l.a.createElement(y.a,{span:8},l.a.createElement(_.a,{style:{backgroundColor:"var(--russian-violet-2"},bordered:!1},l.a.createElement(x.a,{prefix:l.a.createElement(H.b,null),title:"Contribution to revenue",precision:2,value:i[0].totalRevPercentage,suffix:"%"}))),l.a.createElement(y.a,{span:24},l.a.createElement(_.a,{style:{backgroundColor:"var(--russian-violet-2"},bordered:!1},l.a.createElement(x.a,{prefix:l.a.createElement(H.b,null),title:"Ratio of Pro Users to Total Users",precision:2,value:i[0].totalUsers/p[0].totalUsers})))):l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement(G.a,{type:"bubbles",color:"var(--mauve)"}))),l.a.createElement(V,{tab:"Area Specific Stats",key:"2"},null!=t?l.a.createElement(b.a,{gutter:[16,16],justify:"center",align:"middle"},l.a.createElement(y.a,{span:8},l.a.createElement(_.a,{style:{backgroundColor:"var(--russian-violet-2"},bordered:!1},l.a.createElement(x.a,{prefix:l.a.createElement(R.c,null),title:"Females",value:t.female}))),l.a.createElement(y.a,{span:8},l.a.createElement(_.a,{style:{backgroundColor:"var(--russian-violet-2"},bordered:!1},l.a.createElement(x.a,{prefix:l.a.createElement(R.b,null),title:"Total Users",value:t.totalUsers}))),l.a.createElement(y.a,{span:8},l.a.createElement(_.a,{style:{backgroundColor:"var(--russian-violet-2"},bordered:!1},l.a.createElement(x.a,{prefix:l.a.createElement(R.d,null),title:"Males",value:t.male}))),l.a.createElement(y.a,{span:16},l.a.createElement(_.a,{style:{backgroundColor:"var(--russian-violet-2"},bordered:!1},l.a.createElement(x.a,{prefix:l.a.createElement(H.a,null),title:"Total Pro Users",value:i[t.area_id].totalUsers}))),l.a.createElement(y.a,{span:8},l.a.createElement(_.a,{style:{backgroundColor:"var(--russian-violet-2"},bordered:!1},l.a.createElement(x.a,{prefix:l.a.createElement(R.a,null),title:"Total Matches",value:t.totalMatches}))),l.a.createElement(y.a,{span:12},l.a.createElement(_.a,{style:{backgroundColor:"var(--russian-violet-2"},bordered:!1},l.a.createElement(x.a,{prefix:l.a.createElement(J.a,null),title:"Location",value:t.areaName}))),l.a.createElement(y.a,{span:12},l.a.createElement(_.a,{style:{backgroundColor:"var(--russian-violet-2"},bordered:!1},l.a.createElement(x.a,{prefix:l.a.createElement(H.b,null),title:"Ratio of Pro Users to Total Users",precision:2,value:i[t.area_id].totalUsers/p[t.area_id].totalUsers}))),l.a.createElement(y.a,{span:8},l.a.createElement(_.a,{style:{backgroundColor:"var(--russian-violet-2"},bordered:!1},l.a.createElement(x.a,{prefix:l.a.createElement(H.b,null),title:"Contribution to revenue",precision:2,value:i[t.area_id].revPercentage,suffix:"%"}))),l.a.createElement(y.a,{span:8},l.a.createElement(_.a,{style:{backgroundColor:"var(--russian-violet-2"},bordered:!1},l.a.createElement(x.a,{prefix:l.a.createElement(H.a,null),title:"Average User Age",value:t.avgAge,precision:2})))):l.a.createElement("span",null,"Click on an area from the map")))),l.a.createElement(y.a,{xs:{order:1},md:12,style:{display:"flex",justifyContent:"center"}},l.a.createElement(_.a,{bordered:!1,style:{backgroundColor:"var(--russian-violet-2"}},l.a.createElement(I,{areaData:t,setAreaData:n,proData:i,setProData:u,genData:p,setGenData:E})))))},K=p.a.Title,Q=function(){return l.a.createElement("div",{style:{display:"flex",height:"70vh",justifyContent:"center",alignItems:"center",flexDirection:"column"}},"Made by",l.a.createElement(K,null,l.a.createElement("a",{href:"https://github.com/anurago9o9"},"anurago9o9")),"Uses AntDesign, React.js, Mapbox")},Y=p.a.Title,L=m.a.Header,W=m.a.Content,X=m.a.Footer,q=m.a.Sider;var z=function(){var e=Object(r.useState)(!1),a=Object(c.a)(e,2),t=a[0],n=a[1];return l.a.createElement("div",{className:"App"},l.a.createElement(m.a,null,l.a.createElement(q,{className:"bgDark",breakpoint:"lg",collapsedWidth:"0",style:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyItems:"center"}},l.a.createElement("div",{className:"logo"}),l.a.createElement(i.a,{theme:"dark",style:{backgroundColor:"var(--russian-voilet)",display:"flex",flexDirection:"column",alignItems:"center",justifyItems:"center"},mode:"inline",defaultSelectedKeys:["1"]},l.a.createElement(i.a.Item,{key:"1",icon:l.a.createElement(E.a,null),onClick:function(){return n(!1)}},"Dashboard"),l.a.createElement(i.a.Item,{key:"2",icon:l.a.createElement(f.a,null),onClick:function(){return n(!0)}},"About"),l.a.createElement(i.a.Item,{key:"3",icon:l.a.createElement(g.a,null)},l.a.createElement("a",{href:"https://github.com/anurago9o9"},"Source Code")))),l.a.createElement(m.a,{className:"bgDark2"},l.a.createElement(L,{className:"bgDark",style:{padding:"10px"}},l.a.createElement(Y,{level:2},t?"About":"Dashboard")),l.a.createElement(W,{style:{margin:"26px"},className:"bgDark"},l.a.createElement("div",{className:"bgDark"},t?l.a.createElement(Q,null):l.a.createElement(Z,null))),l.a.createElement(X,{className:"bgDark",style:{textAlign:"center"}},"GeoJSON Analyser"))))};o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(z,null)),document.getElementById("root"))}},[[204,1,2]]]);
//# sourceMappingURL=main.ae49e2fb.chunk.js.map